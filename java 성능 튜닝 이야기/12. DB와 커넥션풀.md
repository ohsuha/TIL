# DB를 사용하면서 발생 가능한 문제들
JDBC 는 클래스가 아니라 인터페이스, JDK 의 API에 있는 java.sql 인터페이스를 각 DB 벤더에서 상황에 맞게 구현하도록 되어있다.
가장 느린 부분은 connection 을 얻는 부분이다. DB와 WAS 사이에서서는 통신을 해야하기 때문에,
커넥션 객체 생성에서 발생하는 대기 시간을 줄이고 네트워크의 부담을 줄이기 위해 DB Connection pool 같은 것을 사용한다.
WAS 에서 제공하는 커넥션 풀을 사용하자

## Spring 의 커넥션 풀
### HikariCp
**장점**
1. 설정이 간단하고 직관적이다
2. 저지연성과 높은 성능 제곡, 많은 동시 요청을 효율적으로 처리한다.
3. 커넥션 풀 상태 모니터링 매트릭스 제공
4. 트랜잭션 안전성이 높다.
5. JDBC4.0 java8 호환, 최신 기술 활용이 가능하다.
**단점**
1. 기본 설정으로는 적합하지 않을 수 있따. 추가 설정이 필요할때가 있음
2. JDBC4.0 이상을 요구한다.

### apache DBCP
**장점**
1. 오래된 라이브러리로 안정성이 검증됐다.
2. 사용이 용이하고 설정이 간단하다.
3. JMX 모니터링 기능을 제공한다.
**단점**
1. 히카리에 비해 성능이 낮고 메모리 사용량이 많아지기 쉽다.
2. 대규모 트래픽 처리시 병목이 발생할 수 있다.
3. 기본 커넥션풀이 제한되어있다.

### C3P0
**장점**
1. 커넥션이 유효한지 자동 테스트
2. JMX 를 통한 상태 모니터링
**단점**
1. 히카리에 비해 느리고 커넥션 풀에서 높은 부하 발생
2. 메모리 사용량이 많아지는 경향이 있다.
3. 설정이 복잡하고 조정을 제대로 하지 않으면 성능이 떨어질 수 있다.

### 히카리가 빠른이유
1. 경량화 설계
2. 적은 오버헤드
3. 효율적인 커넥션 관리
4. 비동기 커넥션 검증
5. 가벼운 설정과 초기화
6. JDBC 4.0 이상 지원
7. 불필요한 대기시간 제거
8. 메모리 CPU 효율성